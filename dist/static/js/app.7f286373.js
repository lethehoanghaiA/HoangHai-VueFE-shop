(function(t){function e(e){for(var n,a,s=e[0],i=e[1],u=e[2],b=0,d=[];b<s.length;b++)a=s[b],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),c()}function c(){for(var t,e=0;e<o.length;e++){for(var c=o[e],n=!0,s=1;s<c.length;s++){var i=c[s];0!==r[i]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=c[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=t,a.c=n,a.d=function(t,e,c){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(c,n,function(e){return t[e]}.bind(null,n));return c},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;o.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r=(c("ac1f"),c("841c"),{class:"container justify-content-center mt-50 mb-50"}),o={class:"text-center"},a={class:"row d-flex"},s={class:"col-5"},i=Object(n["f"])("option",{disabled:"",selected:""},"Sort By",-1),u=Object(n["f"])("option",{class:"dropdown-item",value:"asc"},"A-Z",-1),l=Object(n["f"])("option",{class:"dropdown-item",value:"desc"},"Z-A",-1),b=Object(n["f"])("option",{class:"dropdown-item",value:"price"},"Price",-1),d=[i,u,l,b],f=Object(n["f"])("button",{type:"submit",class:"btn btn-primary"},"Search",-1),p={class:"container-fluid main-content nav-bar"},O=Object(n["g"])("Product List"),m=Object(n["g"])("Your Cart"),j={key:0,class:"spinner-border",role:"status",style:{display:"block",margin:"auto"}},h=Object(n["f"])("span",{class:"sr-only"},"Loading...",-1),v=[h],g=Object(n["f"])("footer",{class:"m-5"},"Copyright © 2021 by LeTheHoangHai",-1);function y(t,e,c,i,u,l){var b=Object(n["v"])("router-link"),h=Object(n["v"])("router-view");return Object(n["q"])(),Object(n["e"])("div",r,[Object(n["f"])("h1",o,Object(n["x"])(t.shopName),1),Object(n["f"])("div",a,[Object(n["f"])("div",s,[Object(n["f"])("select",{class:"btn btn-secondary",onChange:e[0]||(e[0]=function(t){return l.sorting(t)})},d,32)]),Object(n["f"])("form",{class:"col-5 mb-3 d-flex",onSubmit:e[2]||(e[2]=Object(n["D"])((function(){return l.search&&l.search.apply(l,arguments)}),["prevent"]))},[Object(n["C"])(Object(n["f"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.content=e}),type:"text",placeholder:"Search",class:"form-control","aria-label":"Text input with dropdown button"},null,512),[[n["z"],t.content]]),f],32)]),Object(n["f"])("div",p,[Object(n["h"])(b,{to:"/",class:"btn m-2"},{default:Object(n["B"])((function(){return[O]})),_:1}),Object(n["h"])(b,{to:"/cart",class:"btn"},{default:Object(n["B"])((function(){return[m]})),_:1})]),t.isLoading?(Object(n["q"])(),Object(n["e"])("div",j,v)):Object(n["d"])("",!0),Object(n["h"])(h,{products:t.products,onOnUpdateCode:l.setCode,code:t.code},null,8,["products","onOnUpdateCode","code"]),g])}var w=c("1da1"),x=(c("96cf"),c("4de4"),c("caad"),c("2532"),c("b0c0"),c("bc3a")),S=c.n(x),C={name:"App",baseURL:"https://hoanghai-shop-be.herokuapp.com",data:function(){return{shopName:"Stylist Teen",content:"",products:[{},{},{}],isLoading:!1,code:null}},methods:{setCode:function(t,e){this.code=e},search:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,t.products=[{},{},{}],e.next=4,S.a.get(baseURL+"/products").then((function(e){t.products=e.data}));case 4:t.content.length>0&&(t.products=t.products.filter((function(e){return e.name.toLowerCase().includes(t.content.toLowerCase())}))),t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},sorting:function(t){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(e.isLoading=!0,e.products=[{},{},{}],"price"!==t.target.value){c.next=7;break}return c.next=5,S.a.get(baseURL+"/products?_sort=".concat(t.target.value,"&_order=DESC")).then((function(t){e.products=t.data}));case 5:c.next=9;break;case 7:return c.next=9,S.a.get(baseURL+"/products?_sort=name&_order=".concat(t.target.value)).then((function(t){return e.products=t.data}));case 9:e.isLoading=!1;case 10:case"end":return c.stop()}}),c)})))()}},created:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,S.a.get(baseURL+"/products").then((function(e){t.products=e.data,console.log(t.products)})).catch((function(t){return console.log(t)}));case 3:t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})))()}};c("a1e7");C.render=y;var k=C,q=c("6c02"),R=["textContent"],T={key:0},L={id:"Home",class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 tabcontent"},U={key:0,class:"skeleton"},D={key:1,class:"card"},N={class:"card-body"},P={class:"card-img-actions "},_=["src"],I={class:"card-body bg-light text-center"},J={class:"mb-2"},F={class:"font-weight-semibold mb-2"},M={href:"#",class:"text-default mb-2","data-abc":"true"},z={href:"#",class:"text-muted","data-abc":"true"},A={class:"mb-0 font-weight-semibold"},B=Object(n["f"])("div",null,[Object(n["f"])("i",{class:"fa fa-star star"}),Object(n["g"])(),Object(n["f"])("i",{class:"fa fa-star star"}),Object(n["f"])("i",{class:"fa fa-star star"}),Object(n["g"])(),Object(n["f"])("i",{class:"fa fa-star star"})],-1),E={class:"text-muted mb-3"},H=["onClick"],V=Object(n["f"])("i",{class:"fa fa-cart-plus mr-2"},null,-1),W=Object(n["g"])(" Add to cart "),Z=[V,W];function Q(t,e,c,r,o,a){var s=Object(n["v"])("router-link");return Object(n["q"])(),Object(n["e"])(n["a"],null,[Object(n["h"])(s,{to:"/cart",class:"btn btn-primary m-2"},{default:Object(n["B"])((function(){return[Object(n["f"])("i",{class:"fa fa-shopping-cart",textContent:Object(n["x"])(" "+a.countCart)},null,8,R)]})),_:1}),0==c.products.length?(Object(n["q"])(),Object(n["e"])("h3",T,"Sorry, there is no product found")):Object(n["d"])("",!0),Object(n["f"])("div",L,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["u"])(c.products,(function(t){return Object(n["q"])(),Object(n["e"])("div",{class:"col",key:t.id},[a.isEmpty(t)?(Object(n["q"])(),Object(n["e"])("div",U)):(Object(n["q"])(),Object(n["e"])("div",D,[Object(n["f"])("div",N,[Object(n["f"])("div",P,[Object(n["f"])("img",{src:t.image,class:"card-img img-fluid",alt:""},null,8,_)])]),Object(n["f"])("div",I,[Object(n["f"])("div",J,[Object(n["f"])("h6",F,[Object(n["f"])("a",M,Object(n["x"])(t.name),1)]),Object(n["f"])("a",z,Object(n["x"])(t.category),1)]),Object(n["f"])("h3",A,Object(n["x"])(t.price),1),B,Object(n["f"])("div",E,Object(n["x"])(t.reviews)+" reviews",1),Object(n["f"])("button",{type:"button",class:"btn bg-cart",onClick:function(e){return a.addToCart(t)}},Z,8,H)])]))])})),128))])],64)}var X=c("5530"),Y=c("b85c"),$=(c("b64b"),c("159b"),{name:"Home",props:["products"],data:function(){return{cart:[]}},methods:{addToCart:function(t){console.log("add To cart");var e,c=!1,n=Object(Y["a"])(this.cart);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.id===t.id){r.quantity++,c=!0;break}}}catch(o){n.e(o)}finally{n.f()}c||this.cart.push(Object(X["a"])(Object(X["a"])({},t),{},{quantity:1}))},isEmpty:function(t){return 0===Object.keys(t).length}},computed:{countCart:function(){var t=0;return this.cart.forEach((function(e){return t+=e.quantity})),t}},created:function(){var t=window.localStorage.getItem("cartST");this.cart=null==t?[]:JSON.parse(t)},beforeMount:function(){},beforeUnmount:function(){console.log("Data before Unmounted "),console.log(this.cart),window.localStorage.setItem("cartST",JSON.stringify(this.cart))}});c("aee0");$.render=Q;var G=$,K={id:"Order",class:"row tabcontent"},tt={class:"table table-striped table-bordered table-sm",cellspacing:"0",width:"100%"},et=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",{class:"th-sm"},"Product Name"),Object(n["f"])("th",{class:"th-sm"},"Quantity"),Object(n["f"])("th",{class:"th-sm",style:{width:"auto"}}),Object(n["f"])("th",{class:"th-sm"},"Price"),Object(n["f"])("th",{class:"th-sm"},"Total")])],-1),ct={key:0,style:{textAlign:"center"}},nt=Object(n["f"])("h3",{class:"lead"},"There is nothing in your Cart!",-1),rt=[nt],ot=["onClick"],at=["onClick"],st={key:2},it=Object(n["f"])("td",{colspan:"3"},null,-1),ut=["textContent"],lt={key:3},bt=Object(n["f"])("td",{colspan:"3"},null,-1),dt=Object(n["f"])("th",null,"Total payment",-1),ft={class:"d-flex flex-row justify-content-center"},pt=Object(n["f"])("button",{type:"submit",class:"btn btn-primary"}," Nhập mã ",-1),Ot=Object(n["f"])("h4",{style:{"text-align":"center mt-2"}},"Nhập 'moon' or 'star' để được ưu đãi",-1),mt={class:"d-flex flex-row justify-content-center"},jt=Object(n["g"])("Xác nhận đơn hàng");function ht(t,e,c,r,o,a){var s=Object(n["v"])("router-link");return Object(n["q"])(),Object(n["e"])("div",K,[Object(n["f"])("table",tt,[et,Object(n["f"])("tbody",null,[0==o.cart.length?(Object(n["q"])(),Object(n["e"])("tr",ct,rt)):(Object(n["q"])(!0),Object(n["e"])(n["a"],{key:1},Object(n["u"])(o.cart,(function(t){return Object(n["q"])(),Object(n["e"])("tr",{key:t.id},[Object(n["f"])("td",null,Object(n["x"])(t.name),1),Object(n["f"])("td",null,Object(n["x"])(t.quantity),1),Object(n["f"])("td",null,[Object(n["f"])("button",{class:"btn btn-primary",onClick:function(e){return a.addToCart(t)}},"+",8,ot),Object(n["f"])("button",{class:"btn btn-danger",onClick:function(e){return a.removeFromCart(t)}}," - ",8,at)]),Object(n["f"])("td",null,Object(n["x"])(t.price),1),Object(n["f"])("td",null,Object(n["x"])(t.quantity*t.price),1)])})),128)),o.isDiscounted?(Object(n["q"])(),Object(n["e"])("tr",st,[it,Object(n["f"])("th",{textContent:Object(n["x"])("Discount "+"".concat(o.discountRate)+"%")},null,8,ut),Object(n["f"])("td",null,Object(n["x"])(a.totalDiscount),1)])):Object(n["d"])("",!0),o.cart.length>0?(Object(n["q"])(),Object(n["e"])("tr",lt,[bt,dt,Object(n["f"])("td",null,Object(n["x"])(a.totalPayment),1)])):Object(n["d"])("",!0)])]),Object(n["f"])("form",{action:"",onSubmit:e[1]||(e[1]=Object(n["D"])((function(){return a.checkDiscount&&a.checkDiscount.apply(a,arguments)}),["prevent"]))},[Object(n["f"])("div",ft,[Object(n["C"])(Object(n["f"])("input",{type:"text",placeholder:"Discount Code","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.codeSubmited=t})},null,512),[[n["z"],o.codeSubmited]]),pt])],32),Ot,Object(n["f"])("div",mt,[Object(n["h"])(s,{to:"/formCofirmOrder",class:"btn btn-block btn-primary m-4"},{default:Object(n["B"])((function(){return[jt]})),_:1})])])}c("a434"),c("d81d");var vt={name:"Cart",props:["code"],methods:{setCode:function(){this.$emit("onUpdateCode",this.codeSubmited)},addToCart:function(t){console.log("add To cart");var e,c=!1,n=Object(Y["a"])(this.cart);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.id===t.id){r.quantity++,c=!0;break}}}catch(o){n.e(o)}finally{n.f()}c||this.cart.push(Object(X["a"])(Object(X["a"])({},t),{},{quantity:1}))},removeFromCart:function(t){var e,c=Object(Y["a"])(this.cart);try{for(c.s();!(e=c.n()).done;){var n=e.value;if(n.id===t.id&&(n.quantity--,0==n.quantity)){var r=this.cart.indexOf(n);this.cart.splice(r,1);break}}}catch(o){c.e(o)}finally{c.f()}console.log(this.cart)},checkDiscount:function(){switch(this.codeSubmited){case"moon":this.discountRate=25,this.isDiscounted=!0;break;case"star":this.discountRate=50,this.isDiscounted=!0;break;default:this.discount=0}}},data:function(){return{shopName:"Stylist Teen",cart:[{price:0,quantity:0}],isDiscounted:!1,discountRate:0,codeSubmited:null}},computed:{totalCost:function(){var t=0;return this.cart.map((function(e){t+=e.quantity*e.price})),t},totalDiscount:function(){return this.discountRate/100*this.totalCost},totalPayment:function(){return this.totalCost-this.totalDiscount}},created:function(){var t=window.localStorage.getItem("cartST");this.cart=null==t?[]:JSON.parse(t)},beforeUnmount:function(){window.localStorage.setItem("cartST",JSON.stringify(this.cart)),null!=this.codeSubmited?window.sessionStorage.setItem("code",JSON.stringify(this.codeSubmited)):window.sessionStorage.removeItem("code"),this.setCode()}};vt.render=ht;var gt=vt,yt={role:"main",class:"container"},wt=Object(n["f"])("h1",{class:"mt-5"},"Register new person",-1),xt=Object(n["f"])("p",{class:"lead"},"Please provide all neccessary information here!",-1),St={key:0,class:"lead"},Ct=Object(n["f"])("span",null,"Response from server: ",-1),kt={key:0,class:"spinner-border"},qt=Object(n["f"])("span",{class:"sr-only"},"Loading...",-1),Rt=[qt],Tt={class:"v-else"},Lt={class:"form-group row m-3 justify-content-center"},Ut=Object(n["f"])("label",{for:"fullName",class:"col-sm-2 col-form-label"},"Name",-1),Dt={class:"col-sm-4"},Nt={class:"form-group row m-3 justify-content-center"},Pt=Object(n["f"])("label",{for:"email",class:"col-sm-2 col-form-label"},"Email",-1),_t={class:"col-sm-4"},It={class:"form-group row m-3 justify-content-center"},Jt=Object(n["f"])("label",{for:"fullName",class:"col-sm-2 col-form-label"},"Phone",-1),Ft={class:"col-sm-4"},Mt=Object(n["f"])("button",{class:"btn btn-primary mt-3",type:"submit"},"Submit form",-1);function zt(t,e,c,r,o,a){return Object(n["q"])(),Object(n["e"])("main",yt,[wt,xt,1==o.posted?(Object(n["q"])(),Object(n["e"])("div",St,[Ct,o.isWaitingRes?(Object(n["q"])(),Object(n["e"])("div",kt,Rt)):Object(n["d"])("",!0),Object(n["f"])("div",Tt,Object(n["x"])(o.messageFromServer),1)])):Object(n["d"])("",!0),Object(n["f"])("form",{onSubmit:e[3]||(e[3]=Object(n["D"])((function(){return a.postToServer&&a.postToServer.apply(a,arguments)}),["prevent"]))},[Object(n["f"])("div",Lt,[Ut,Object(n["f"])("div",Dt,[Object(n["C"])(Object(n["f"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return o.customer.name=t}),type:"text",class:"form-control",id:"fullName"},null,512),[[n["z"],o.customer.name]])])]),Object(n["f"])("div",Nt,[Pt,Object(n["f"])("div",_t,[Object(n["C"])(Object(n["f"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.customer.email=t}),type:"text",class:"form-control",id:"email"},null,512),[[n["z"],o.customer.email]])])]),Object(n["f"])("div",It,[Jt,Object(n["f"])("div",Ft,[Object(n["C"])(Object(n["f"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.customer.phone=t}),type:"text",class:"form-control",id:"phone"},null,512),[[n["z"],o.customer.phone]])])]),Mt],32)])}var At={name:"Form",baseURL:"https://hoanghai-shop-be.herokuapp.com",data:function(){return{customer:{name:"",email:"",phone:""},cart:null,code:null,isWaitingRes:!1,messageFromServer:"",posted:!1}},beforeMount:function(){this.posted=!1;var t=window.localStorage.getItem("cartST");null==t?this.cart=[]:(t=JSON.parse(t),this.cart=t.map((function(t){var e=t.id,c=t.quantity;return{id:e,quantity:c}})),console.log(this.cart));var e=sessionStorage.getItem("code");null!=e&&(this.code=JSON.parse(e))},methods:{postToServer:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.posted=!0,t.isWaitingRes=!0,c={customer:t.customer,cart:t.cart,code:t.code},e.next=5,S.a.post(baseURL+"/submitOrder",c).then((function(e){return t.messageFromServer=e.data}));case 5:t.isWaitingRes=!1,t.cart=null,window.localStorage.removeItem("cartST");case 8:case"end":return e.stop()}}),e)})))()}}};At.render=zt;var Bt=At,Et=[{path:"/",name:"Home",component:G,props:!0},{path:"/formCofirmOrder",name:"Form",component:Bt,props:!0},{path:"/cart",name:"Cart",component:gt,props:!0}],Ht=Object(q["a"])({history:history.pushState,routes:Et}),Vt=Ht;Object(n["c"])(k).use(Vt).mount("#app")},"86ed":function(t,e,c){},9160:function(t,e,c){},a1e7:function(t,e,c){"use strict";c("86ed")},aee0:function(t,e,c){"use strict";c("9160")}});
//# sourceMappingURL=app.7f286373.js.map